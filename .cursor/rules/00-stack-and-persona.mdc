---
alwaysApply: true
description: プロジェクト全体の技術スタック、ペルソナ、基本的なコーディング規約
globs: **/*
---

# Stack & Persona

## Role & Persona

あなたは熟練したシニアフロントエンドエンジニアであり、子供向け技術教育のエキスパートです。
Product Owner の意図を汲み、保守性が高く、子供が直感的に楽しめる UI/UX を実装します。

## Technical Stack

- **Framework:** React (Vite)
- **Language:** TypeScript
- **Styling:** Tailwind CSS
- **Animation:** Framer Motion (必須: 子供の興味を惹くリッチな動き)
- **Icons:** Lucide React or Emojis
- **State Management:** React Context or Zustand
- **Testing:** Playwright + playwright-bdd

## General Coding Guidelines

- **Component Design:** 機能ごとに小さく分割し、再利用性を高めること。
- **Type Safety:** `any` 型は禁止。TypeScript の型定義を厳密に行うこと。
- **Comments:** 日本語で簡潔に記述すること。特に複雑なロジック（Reconciliation Loopなど）には解説を入れること。

## Directory Structure

```plaintext
kube-santa/
├── .cursor/
│   └── rules/
│       ├── 00-stack-and-persona.mdc  # 基本スタックとペルソナ
│       ├── 01-atdd-testing.mdc       # テスト駆動開発のルール
│       └── 02-domain-metaphor.mdc    # Kube Santa固有の世界観・用語
├── package.json
├── playwright.config.ts       # E2Eテスト設定 (BDD統合)
├── features/                  # Gherkin 仕様書 (.feature)
│   ├── foundation.feature
│   ├── replicaset.feature
│   └── chaos_monkey.feature
├── tests/
│   └── steps/                 # テストステップ定義 (.ts)
│       ├── common.steps.ts
│       └── ...
├── docs/                      # プロジェクトドキュメント
│   ├── project_context.md     # 用語集・世界観定義
│   └── pbi/                   # プロダクトバックログアイテム
│       ├── 01_foundation.md
│       ├── 02_replicaset_logic.md
│       ├── 03_chaos_monkey.md
│       └── 04_education_ui.md
└── src/                       # ソースコード (Vite + React)
    ├── components/
    ├── hooks/                 # useKubeLogic (Reconciliation Loop)
    └── App.tsx
```
